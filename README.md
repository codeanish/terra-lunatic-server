# terra-lunatic-server

## Dependencies

Create a .env file in the root project directory. Add the appropriate URLs required into the .env file to map to the settings.py file in the api project. If you need a .env file, contact Anish.

## Running

This project utilises docker-compose to build two docker images and run them. After you've created the .env file, run the following commands:

### `docker-compose build`
### `docker-compose up -d`

This should bring up the two containers. The first container is the API, the second container makes sync requests to the API container to pull fresh data from flipside crypto. It may take a few minutes for the API to be filled with data and useable, you can see this if you check the logs of the API container. Once it's initialised, it should retain data for as long as the container is running. There is no persistence solution implemented at this stage, so on startup, there will always be a slight delay to pull all the data from flipside.

## Flipside crypto

This project currently utilises flipside crypto from which to pull its data. There are several limitations to this which will need to be addressed going forward:

* Flipside crypto limits the number of results from a query which means for large results sets, these need to be paginated. The problem lies with the fact that each pagination requires a separate url generated by flipside to build. Effectively putting the onus on the maintainer of this project to create queries on flipside when the pagination limit is approaching and add them into this project.
* Flipside does not accept parameters into its queries, if it did, there would be no need for this server

The way I see it, there are three ways forward:

1. Maintain this project and flipside queries as it currently stands (a pain)
2. Dynamically generate flipside queries and their APIs (Not sure if this is possible)
3. Move away from flipside and just parse individual users blockchain data from the chain explorer (probably reasonable albeit time consuming)

If I do continue along on this project, I will probably look to move away from Flipside and go straight to the block explorer api.